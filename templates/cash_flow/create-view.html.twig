{% extends 'base.html.twig' %}

{% block title %}Cash Flow{% endblock %}

{% block body %}
<div class="main-panel">
    <div class="content-wrapper">

                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title">Register money inflow or outflow</h4>
                            <form class="form-sample" action="{{ path('app_cash_flow_create') }}" method="POST">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label">Description</label>
                                            <div class="col-sm-9">
                                                <input type="text" class="form-control" name="description" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label">Value</label>
                                            <div class="col-sm-4">
                                                <input type="number" class="form-control" name="value" />
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label">Type</label>
                                            <div class="col-sm-9">
                                                <select class="form-control" name="type">
                                                    <option>Deposit</option>
                                                    <option selected>Out</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label">Date</label>
                                            <div class="col-sm-9">
                                                <input id="dateInput" type="date" class="form-control" placeholder="dd/mm/yyyy" name="date" />
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label">Category</label>
                                            <div class="col-sm-9">
                                                <select class="form-control" name="category">
                                                    <option></option>
                                                    {% for category in categories %}
                                                        <option value="{{ category.idTypeFlow }}">{{ category.title }}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <input type="hidden" name="currency" value="EUR">

                                    <label class="col-sm-1 col-form-label">Bank</label>
                                    <div class="col-sm-2">
                                        <div class="form-check">
                                            <label class="form-check-label">
                                                <input type="radio" class="form-check-input" name="bank" value="Wise"

                                                > Wise </label>
                                        </div>
                                    </div>
                                    <div class="col-sm-2">
                                        <div class="form-check">
                                            <label class="form-check-label">
                                                <input type="radio" class="form-check-input" name="bank" value="Revolut"

                                                > Revolut </label>
                                        </div>
                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <button type="submit" class="btn btn-primary">Save</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
</div>
</div>

    <script>
        // Obtém a data atual
        const currentDate = new Date();

        // Formata a data como dd/mm/yyyy
        const day = String(currentDate.getDate()).padStart(2, '0');
        const month = String(currentDate.getMonth() + 1).padStart(2, '0'); // Mês começa em zero
        const year = currentDate.getFullYear();

        // Define a data no campo de entrada
        const dateInput = document.getElementById('dateInput');
        dateInput.value = `${day}/${month}/${year}`;


    </script>


{% endblock %}
